# Nonprod ACR Configuration Example
# Copy this file to terraform.tfvars and customize for your environment

# Basic Configuration
resource_group_name = "rg-brightcloud-acr-nonprod"
location           = "North Europe"
create_resource_group = true

# Security Configuration
public_network_access_enabled = false
retention_policy_days         = 7

# Network Access (customize as needed)
allowed_ip_ranges = [
  "10.0.0.0/8",    # Private network
  "203.0.113.0/24" # Example public IP range
]

# GitHub Actions Service Principal (replace with actual values)
github_actions_sp_object_id  = "12345678-1234-1234-1234-123456789012"
github_actions_principal_id  = "87654321-4321-4321-4321-210987654321"

# Team Access Configuration
teams = {
  "frontend-team" = {
    name           = "Frontend Development Team"
    principal_id   = "aaaaaaaa-bbbb-cccc-dddd-eeeeeeeeeeee"
    principal_type = "Group"
    environments   = ["pr", "dev"]
    roles          = ["AcrPush", "AcrPull"]
  }
  "backend-team" = {
    name           = "Backend Development Team"
    principal_id   = "ffffffff-gggg-hhhh-iiii-jjjjjjjjjjjj"
    principal_type = "Group"
    environments   = ["pr", "dev", "perf"]
    roles          = ["AcrPush", "AcrPull"]
  }
  "platform-team" = {
    name           = "Platform Team"
    principal_id   = "kkkkkkkk-llll-mmmm-nnnn-oooooooooooo"
    principal_type = "Group"
    environments   = ["pr", "dev", "perf"]
    roles          = ["Contributor"]
  }
}

# Monitoring and Compute Access
monitoring_principal_ids = [
  "pppppppp-qqqq-rrrr-ssss-tttttttttttt" # Azure Monitor
]

compute_principal_ids = [
  "uuuuuuuu-vvvv-wwww-xxxx-yyyyyyyyyyyy", # AKS cluster identity
  "zzzzzzzz-aaaa-bbbb-cccc-dddddddddddd"  # Container Apps identity
]

# Private Networking (uncomment and configure if needed)
# create_private_endpoint = true
# virtual_network_name = "vnet-brightcloud-nonprod"
# vnet_resource_group_name = "rg-brightcloud-networking"
# subnet_name = "snet-acr-private-endpoints"
# network_security_group_name = "nsg-acr-nonprod"
# allowed_source_address_prefixes = ["10.0.0.0/16"]
# create_application_security_group = true